# ===============================================
# Backend Environment Variables - Example
# ===============================================
#
# Instructions:
# 1. Copy this file to .env
# 2. Update values with your actual configuration
# 3. Never commit .env to version control
#
# ===============================================

# -----------------------------------------------
# Application
# -----------------------------------------------
NODE_ENV=development
PORT=3001
API_VERSION=v1
API_PREFIX=/api

# -----------------------------------------------
# Database - PostgreSQL
# -----------------------------------------------
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=SCHEMA
DATABASE_URL=postgresql://soldent_dev:dev_password@localhost:5433/soldent_dev?schema=public

# Database connection pool
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# -----------------------------------------------
# Redis Cache
# -----------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6380
REDIS_PASSWORD=dev_redis_password
REDIS_DB=0
REDIS_TTL=3600

# -----------------------------------------------
# Authentication - JWT
# -----------------------------------------------
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# -----------------------------------------------
# Security
# -----------------------------------------------
# CORS - Comma separated origins
CORS_ORIGIN=http://localhost:3000,http://localhost:3001
CORS_CREDENTIALS=true

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Bcrypt rounds
BCRYPT_ROUNDS=10

# -----------------------------------------------
# Email Service (Optional)
# -----------------------------------------------
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@example.com
EMAIL_PASSWORD=your-email-password
EMAIL_FROM=Soldent <noreply@soldent.com>

# -----------------------------------------------
# File Upload
# -----------------------------------------------
UPLOAD_MAX_FILE_SIZE=5242880
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,application/pdf
UPLOAD_PATH=./uploads

# -----------------------------------------------
# Logging
# -----------------------------------------------
LOG_LEVEL=debug
LOG_FORMAT=combined
LOG_FILE_PATH=./logs

# -----------------------------------------------
# External APIs (Optional)
# -----------------------------------------------
# Example: Payment gateway, SMS service, etc.
# PAYMENT_API_KEY=your-payment-api-key
# PAYMENT_API_SECRET=your-payment-api-secret

# SMS/WhatsApp for appointment reminders
SMS_API_KEY=your-sms-api-key
SMS_API_SECRET=your-sms-api-secret
WHATSAPP_API_KEY=your-whatsapp-api-key

# SRI - Ecuador electronic invoicing (optional)
SRI_ENABLED=false
SRI_ENVIRONMENT=test
SRI_CERTIFICATE_PATH=./certificates/sri.p12
SRI_CERTIFICATE_PASSWORD=your-certificate-password

# -----------------------------------------------
# Feature Flags (Optional)
# -----------------------------------------------
FEATURE_REGISTRATION_ENABLED=true
FEATURE_EMAIL_VERIFICATION=false
FEATURE_TWO_FACTOR_AUTH=false
FEATURE_ONLINE_BOOKING=true
FEATURE_APPOINTMENT_REMINDERS=true
FEATURE_PAYMENT_PLANS=true

# -----------------------------------------------
# Appointment Settings
# -----------------------------------------------
# Default appointment duration in minutes
DEFAULT_APPOINTMENT_DURATION=30
# Minimum hours in advance to book
MIN_ADVANCE_BOOKING_HOURS=1
# Maximum days in advance to book
MAX_ADVANCE_BOOKING_DAYS=90
# Buffer time between appointments in minutes
APPOINTMENT_BUFFER_MINUTES=5
# Hours before appointment to send reminder
REMINDER_HOURS_BEFORE=24

# -----------------------------------------------
# Billing & Payments
# -----------------------------------------------
# Currency
CURRENCY=USD
# Tax rate (Ecuador IVA - 12%)
TAX_RATE=0.12
# Tax applies to dental services (usually exempt in Ecuador)
TAX_APPLIES_TO_SERVICES=false
# Late payment fee percentage
LATE_PAYMENT_FEE=0.05

# -----------------------------------------------
# Monitoring & Analytics (Optional)
# -----------------------------------------------
# SENTRY_DSN=your-sentry-dsn
# GOOGLE_ANALYTICS_ID=your-ga-id
